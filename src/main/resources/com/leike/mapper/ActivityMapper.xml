<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.leike.mapper.ActivityMapper">
    <insert id="insertMapper">
        INSERT INTO club (name,start_time,end_time,address,pic,price,type,detail)
        VALUE (#{name},#{startTime},#{endTime},#{address},#{pic},#{price},#{type},#{detail})
    </insert>

    <!--    <insert id="insertClub">-->
<!--        INSERT INTO club (name,phone,pic,intro,address,jointime,hot)-->
<!--        VALUE (#{name},#{phone},#{pic},#{intro},#{address},#{jointime},#{hot})-->
<!--    </insert>-->

    <select id="selectActivityListForTerm" resultType="com.leike.pojo.Activity">
        <bind name="_aId" value="'%'+aId+'%'"/>
        <bind name="_name" value="'%'+name+'%'"/>
        <bind name="_cId" value="'%'+cId+'%'"/>
        SELECT *
        FROM activity
        <where>
            a_id IN
            (SELECT a.a_id
            FROM (SELECT a_id
            FROM activity
            LIMIT #{page},#{limit}) as a)
            <if test="aId != null and aId != ''">
                AND a_id LIKE #{_aId}
            </if>
            <if test="name != null and name != ''">
                AND name LIKE #{_name}
            </if>
            <if test="cId != null and cId != ''">
                AND c_id LIKE #{_cId}
            </if>
        </where>



    </select>
</mapper>